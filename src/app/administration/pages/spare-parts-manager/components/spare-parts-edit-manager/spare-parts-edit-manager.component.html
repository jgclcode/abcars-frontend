<div class="container">
    <div class="row">
        <div class="col-12 mt-3 mb-3">
            <h1 class="text-center fw-bold">Actualizar y Autorizar Refacciones</h1>
        </div>
    </div>

    <div class="row">
        <div class="col-12 mb-3">
            <form [formGroup]="form" (ngSubmit)="submit()">
                <!-- Refacción Original -->
                <div class="row">                    
                    <h3 class="text-muted">Refacción Original</h3>
                    
                    <!-- Price -->
                    <div class="col-6">
                        <p class="fw-light">Precio</p>
                        <p>{{ (spare_part.priceOriginal) ? '$' + (spare_part.priceOriginal | number:'0.2-2') : 'Sin precio' }}</p>
                    </div>

                    <!-- Time -->
                    <div class="col-6">
                        <p class="fw-light">Fecha de Entrega</p>
                        <p>{{ (spare_part.timeOriginal) ? (spare_part.timeOriginal | date:'dd MMMM, yyyy') : 'Sin fecha' }}</p>
                        
                    </div>
                </div>

                <hr>

                <!-- Refacción Generic -->
                <div class="row">                    
                    <h3 class="text-muted">Refacción Generica</h3>
                    
                    <!-- Price -->
                    <div class="col-6">
                        <p class="fw-light">Precio</p>
                        <p>{{ (spare_part.priceGeneric) ? '$' + (spare_part.priceGeneric | number:'0.2-2') : 'Sin precio' }}</p>
                    </div>

                    <!-- Time -->
                    <div class="col-6">
                        <p class="fw-light">Fecha de Entrega</p>
                        <p>{{ (spare_part.timeGeneric) ? (spare_part.timeGeneric | date:'dd MMMM, yyyy') : 'Sin fecha' }}</p>
                    </div>
                </div>

                <hr>

                <!-- Refacción Used -->
                <div class="row">                    
                    <h3 class="text-muted">Refacción Usada</h3>
                    
                    <!-- Price -->
                    <div class="col-6">
                        <p class="fw-light">Precio</p>
                        <p>{{ (spare_part.priceUsed) ? '$' + (spare_part.priceUsed | number:'0.2-2') : 'Sin precio' }}</p>
                    </div>

                    <!-- Time -->
                    <div class="col-6">
                        <p class="fw-light">Fecha de Entrega</p>
                        <p>{{ (spare_part.timeUsed) ? (spare_part.timeUsed | date:'dd MMMM, yyyy') : 'Sin fecha' }}</p>
                    </div>
                </div>

                <hr>

                <h3 class="text-center fw-bold">Información</h3>

                <!-- Status & Type -->
                <div class="row">
                    <!-- Type Part -->
                    <div class="col-6">                                
                        <mat-form-field appearance="outline">
                            <mat-label>Tipo Refacción</mat-label>
                            <mat-select placeholder="Seleccione una opción" formControlName="type_part" required>
                                <mat-option value="original">Original</mat-option>
                                <mat-option value="generic">Generica</mat-option>
                                <mat-option value="used">Usada</mat-option>
                            </mat-select>
                            <mat-hint *ngIf="typeInvalid">Seleccione un tipo de refacción.</mat-hint>
                        </mat-form-field>
                    </div>

                    <!-- Approved Part -->
                    <div class="col-6">
                        <mat-form-field appearance="outline">
                            <mat-label>Autorizar Refacción</mat-label>
                            <mat-select placeholder="Seleccione una opción" formControlName="status" required>
                                <mat-option value="approved">Autorizar</mat-option>
                                <mat-option value="rejected">Rechazar</mat-option>
                            </mat-select>
                            <mat-hint *ngIf="statusInvalid">Seleccione el status de la refacción.</mat-hint>
                        </mat-form-field>
                    </div>
                </div>

                <!-- Comment -->
                <div class="row">
                    <div class="col-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Comentarios</mat-label>
                            <textarea matInput rows="10" style="resize: none;" formControlName="comments" placeholder="Escriba los comentarios correspondientes a esta refacción..."></textarea>
                        </mat-form-field>
                    </div>
                </div>
                
                <!-- Buttons Actions -->
                <div class="row">
                    <div class="col-12 mt-3 mb-3 text-center">
                        <button mat-button type="submit" class="btn abcars-background-color rounded-pill text-dark mx-2" [disabled]="form.invalid">                            
                            <span *ngIf="!spinner">Guardar</span>
                            <span *ngIf="spinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        </button>

                        <button mat-raised-button type="button" class="btn abcars-background-color-secondary px-4 rounded-pill text-dark" (click)="closeSheet()">
                            Cancelar
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>