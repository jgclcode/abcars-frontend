<!-- <div class="container">
    <div class="row">
        <h1 class="fw-bold mt-3">Agregar Imagenes</h1>

        <div class="col-12">
            <mat-accordion class="example-headers-align">
                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Subir imagenes principales</mat-panel-title>
                    </mat-expansion-panel-header>

                    <mat-list>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Consola</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 23)" [disabled]="inputs.part23.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part23.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Asientos traseros</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 24)" [disabled]="inputs.part24.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part24.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Panel de instrumento</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 25)" [disabled]="inputs.part25.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part25.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Luces interior</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 26)" [disabled]="inputs.part26.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part26.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Toma corriente</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 27)" [disabled]="inputs.part27.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part27.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Computadora de viaje</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 28)" [disabled]="inputs.part28.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part28.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">reloj/termómetro</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 29)" [disabled]="inputs.part29.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part29.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Quemacocos</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 30)" [disabled]="inputs.part30.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part30.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Cinturones</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 31)" [disabled]="inputs.part31.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part31.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Hoja de servicios</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 32)" [disabled]="inputs.part32.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part32.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                    </mat-list>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Imagenes cargadas</mat-panel-title>
                    </mat-expansion-panel-header>

                    <div class="row">
                        <div class="col-12">                            
                            <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                                <div class="carousel-inner">                                    
                                    <div class="carousel-item active">
                                        <img [src]="url + '/api/damage_images/' + inputs.part23.path" class="d-block w-100" alt="Frontal">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Parte frontal del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part24.path" class="d-block w-100" alt="Trasera">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Parte trasera del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part25.path" class="d-block w-100" alt="Izquierdo">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Lateral izquierdo del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part26.path" class="d-block w-100" alt="Derecho">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Lateral derecho del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part27.path" class="d-block w-100" alt="Baja">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Parte baja del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part28.path" class="d-block w-100" alt="Cofre">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Cofre del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part29.path" class="d-block w-100" alt="Cofre">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Cofre del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part30.path" class="d-block w-100" alt="Cofre">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Cofre del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part31.path" class="d-block w-100" alt="Cofre">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Cofre del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part32.path" class="d-block w-100" alt="Cofre">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Cofre del vehículo</h5>
                                        </div>
                                    </div>                                                                      
                                </div>                                

                                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Anterior</span>
                                </button>
  
                                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Siguiente</span>
                                </button>
                            </div>
                        </div>
                    </div>

                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Otros</mat-panel-title>
                    </mat-expansion-panel-header>

                    <mat-list>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Agregar foto de daños</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 33)">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part33.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>                        

                    </mat-list>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Imagenes cargadas</mat-panel-title>
                    </mat-expansion-panel-header>

                    <div class="row">
                        <div class="col-12">                            
                            <div id="carouselOtros" class="carousel slide" data-ride="carousel">
                                <div class="carousel-inner">                                    
                                    <div class="carousel-item" *ngFor="let image of otros; let i = index" [class.active] = "i === 0">
                                        <img class="d-block w-100" [src]="url + '/api/damage_images/' + image.path" class="d-block w-100">
                                    </div>                                                                       
                                </div>                                

                                <button class="carousel-control-prev" type="button" data-bs-target="#carouselOtros" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Anterior</span>
                                </button>
  
                                <button class="carousel-control-next" type="button" data-bs-target="#carouselOtros" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Siguiente</span>
                                </button>
                            </div>
                        </div>
                    </div>

                </mat-expansion-panel>

            </mat-accordion>
        </div>
    </div>

    <div class="row float-end mt-3 mb-3">
        <div mat-dialog-actions>
            <button mat-button mat-dialog-close type="button" class="btn abcars-background-color rounded-pill text-dark" (click)="closeBottomSheet()">
                Cerrar
            </button>
        </div>
    </div>
</div> -->

<div class="container">
    <div class="row">
        <h1 class="fw-bold mt-3">Agregar Imagenes Interior</h1>
        <div class="col-12">
            <mat-accordion class="example-headers-align">
                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Subir imagenes principales</mat-panel-title>
                    </mat-expansion-panel-header>
                    <mat-list>
                        <!-- <div *ngIf="show" class="gridOtros" > 
                            <div *ngIf="imagesCars; else imgDontExist">
                                <div class="dragImaCars containerl" *ngFor="let image of imagesCars" (click)="cambiarImgInput.click()">
                                    <img class="img-cars" [src]="url + '/api/damage_imgs/' + image.path + '/' + image.damage_id " class="d-block w-100">
                                    <input type="file" class="d-none" #cambiarImgInput >
                                </div>
                            </div>
                            
                            <ng-template #imgDontExist >
                                <div class="gridOtros">
                                    <div class="dragImaCars containerl"  *ngFor="let image of imgsPrincipales" (click)="cambiarImgInput.click()">
                                        <img class="img-cars" [src]=" '../../../../../../assets/principales/' + image + '.svg' " class="d-block w-100">
                                        <input type="file" class="d-none" #cambiarImgInput (change)="saveImage($event, image)"> 
                                    </div>
                                </div>
                            </ng-template>
                        </div> -->

                        <div class="gridOtros">
                            <div class="dragImaCars containerl"  *ngFor="let image of carImagesPaths" >
                                <div *ngIf=" image[2] == 'no'; else updateImageDiv ">
                                    <div (click)="cambiarImgInput.click()">
                                        <img class="img-cars" [src]="image[1]" class="d-block w-100">
                                        <input type="file" class="d-none" #cambiarImgInput (change)="saveImage($event, image[0])"> 
                                    </div>
                                </div>
                                <ng-template #updateImageDiv>
                                    <div (click)="cambiarImgInput.click()">
                                        <img class="img-cars" [src]="image[1]" class="d-block w-100">
                                        <input type="file" class="d-none" #cambiarImgInput (change)="updateImage(image[3], $event)"> 
                                    </div>    
                                </ng-template>
                                
                            </div>
                        </div>
                        

                        <!-- <ng-template #imgPrincipal >
                            <div class="gridOtros">
                                <div class="dragImaCars containerl" *ngFor="let image of imagesCars" (click)="cambiarImgInput.click()" id="draganddropp">
                                    <img class="img-cars" [src]=" '../../../../../../assets/principales/' + image + '.svg' " class="d-block w-100">
                                    <input type="file" class="d-none" #cambiarImgInput (change)="saveImage($event, image)"> 
                                </div>
                            </div>
                        </ng-template> -->

                        <mat-divider></mat-divider>
                        <span *ngIf="spinner">Cargando imagen... <span class="spinner-border spinner-border-sm mt-1" role="status" aria-hidden="true"></span> </span>

                    </mat-list>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Otros</mat-panel-title>
                    </mat-expansion-panel-header>

                    <mat-list>
                        <div class="gridOtros">
                            <div class="dragImaCars containerl" *ngFor="let image of carImagesPathsOthers">
                                <div (click)="cambiarImgInputOthers.click()">
                                    <img class="img-cars" [src]="image[1]" class="d-block w-100">
                                    <input type="file" class="d-none" #cambiarImgInputOthers (change)="updateImage(image[2], $event)">
                                </div>
                            </div>
                        </div>
                        <mat-list-item class="mt-5">
                            <div mat-line class="fw-bold">Agregar foto de daños</div>
                            <div mat-line>
                                <input type="file" multiple class="form-control" id="picture" accept="image/*" (change)="fileCapture($event)" [disabled]="spinner">
                                <span *ngIf="spinner">Cargando imagen {{ count }}<span *ngIf="spinner" class="spinner-border spinner-border-sm mt-1" role="status" aria-hidden="true"></span> </span>
                            </div>
                        </mat-list-item>

                        <mat-divider></mat-divider>                        

                    </mat-list>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>
</div>