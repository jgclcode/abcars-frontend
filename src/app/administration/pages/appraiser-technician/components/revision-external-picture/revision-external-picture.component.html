<!-- <div class="container">
    <div class="row">
        <h1 class="fw-bold mt-3">Agregar Imagenes</h1>

        <div class="col-12">
            <mat-accordion class="example-headers-align">
                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Subir imagenes principales</mat-panel-title>
                    </mat-expansion-panel-header>

                    <mat-list>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Imagen Frontal del vehículo</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 1)" [disabled]="inputs.part1.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part1.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Imagen Trasera del vehículo</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 2)" [disabled]="inputs.part2.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part2.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Imagen Izquierda del vehículo</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 3)" [disabled]="inputs.part3.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part3.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Imagen Derecha del vehículo</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 4)" [disabled]="inputs.part4.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part4.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Imagen Debajo del vehículo</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 5)" [disabled]="inputs.part5.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part5.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Imagen del cofre del vehículo</div>
                            <div mat-line>
                                <input type="file" class="form-control" id="picture" accept="image/*" (change)="saveImage($event, 6)" [disabled]="inputs.part6.disabled">
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part6.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>
                    </mat-list>
                </mat-expansion-panel>                

                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Imagenes cargadas</mat-panel-title>
                    </mat-expansion-panel-header>

                    <div class="row">
                        <div class="col-12">                            
                            <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                                <div class="carousel-inner">                                      

                                    <div class="carousel-item active">
                                        <img [src]="url + '/api/damage_images/' + inputs.part1.path" class="d-block w-100" alt="Frontal">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Parte frontal del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part2.path" class="d-block w-100" alt="Trasera">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Parte trasera del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part3.path" class="d-block w-100" alt="Izquierdo">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Lateral izquierdo del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part4.path" class="d-block w-100" alt="Derecho">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Lateral derecho del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part5.path" class="d-block w-100" alt="Baja">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Parte baja del vehículo</h5>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img [src]="url + '/api/damage_images/' + inputs.part6.path" class="d-block w-100" alt="Cofre">
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Cofre del vehículo</h5>
                                        </div>
                                    </div>

                                </div>                                

                                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Anterior</span>
                                </button>
  
                                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Siguiente</span>
                                </button>
                            </div>
                        </div>
                    </div>

                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Subir imagenes de daños</mat-panel-title>
                    </mat-expansion-panel-header>

                    <mat-list>

                        <mat-list-item>
                            <div mat-line class="fw-bold">Imagen</div>
                            <div mat-line>
                                <div class="row">
                                    <div class="col">
                                        <select name="damage" id="damage" class="form-control" [(ngModel)]="damage">
                                            <option [value]="damage.id" *ngFor="let damage of damages">{{ damage.name }}</option>                                                                                        
                                        </select>
                                    </div>
                                    <div class="col">
                                        <input type="file" class="form-control" id="picture" accept="image/*" (change)="assignDamageImage($event)">
                                    </div>
                                </div>
                                <div class="row float-left mt-3 mb-3">
                                    <div mat-dialog-actions>
                                        <button mat-button type="button" class="btn abcars-background-color rounded-pill text-dark" (click)="saveDamageImage()">
                                            Guardar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </mat-list-item>

                        <div class="spinner-wrapper" *ngIf="inputs.part1.loading">
                            <span>please wait</span>
                            <mat-spinner [diameter]="12"></mat-spinner>
                        </div>

                        <mat-divider></mat-divider>

                    </mat-list>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Imagenes de daños</mat-panel-title>
                    </mat-expansion-panel-header>

                    <div class="row">
                        <div class="col-12">                            
                            <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                <div class="carousel-inner">                                    
                                    <div class="carousel-item" *ngFor="let image of otros; let i = index" [class.active] = "i === 0">
                                        <img class="d-block w-100" [src]="url + '/api/damage_images/' + image.path" class="d-block w-100">
                                    </div>                                   
                                </div>                                

                                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Anterior</span>
                                </button>
  
                                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Siguiente</span>
                                </button>
                            </div>
                        </div>
                    </div>

                </mat-expansion-panel>

            </mat-accordion>
        </div>
    </div>

    <div class="row float-end mt-3 mb-3">
        <div mat-dialog-actions>
            <button mat-button mat-dialog-close type="button" class="btn abcars-background-color rounded-pill text-dark" (click)="closeBottomSheet()">
                Cerrar
            </button>
        </div>
    </div>
</div> -->

<div class="container">
    <div class="row">
        <h1 class="fw-bold mt-3">Agregar Imagenes Exterior</h1>
        <div class="col-12">
            <mat-accordion class="example-headers-align">
                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Subir imagenes principales</mat-panel-title>
                    </mat-expansion-panel-header>
                    <mat-list>
                        <div class="gridOtros">
                            <div class="dragImaCars containerl" *ngFor="let image of carImagesPaths">
                                <div *ngIf=" image[2] == 'no'; else updateImageDiv ">
                                    <div (click)="cambiarImgInput.click()">
                                        <img class="img-cars" [src]="image[1]" class="d-block w-100">
                                        <input type="file" class="d-none" #cambiarImgInput (change)="saveImage($event, image[0])"> 
                                    </div>
                                </div>
                                <ng-template #updateImageDiv>
                                    <div (click)="cambiarImgInput.click()">
                                        <img class="img-cars" [src]="image[1]" class="d-block w-100">
                                        <input type="file" class="d-none" #cambiarImgInput (change)="updateImage(image[3], $event)"> 
                                    </div>    
                                </ng-template>
                            </div>
                        </div>

                        <mat-divider></mat-divider>
                        <span *ngIf="spinner">Cargando imagen... <span class="spinner-border spinner-border-sm mt-1" role="status" aria-hidden="true"></span> </span>

                    </mat-list>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Otros</mat-panel-title>
                    </mat-expansion-panel-header>

                    <mat-list>
                        <div class="gridOtros">
                            <div class="dragImaCars containerl" *ngFor="let image of carImagesPathsOthers">
                                <div (click)="cambiarImgInputOthers.click()">
                                    <img class="img-cars" [src]="image[1]" class="d-block w-100">
                                    <input type="file" class="d-none" #cambiarImgInputOthers (change)="updateImage(image[2], $event)">
                                </div>
                            </div>
                        </div>
                        <mat-list-item class="mt-5">
                            <div mat-line class="fw-bold">Agregar foto de daños</div>
                            <div mat-line>
                                <input type="file" multiple class="form-control" id="picture" accept="image/*" (change)="fileCapture($event)" [disabled]="spinner">
                                <span *ngIf="spinner">Cargando imagen {{ count }}<span class="spinner-border spinner-border-sm mt-1" role="status" aria-hidden="true"></span> </span>
                            </div>
                        </mat-list-item>

                        <mat-divider></mat-divider>

                    </mat-list>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>
</div>