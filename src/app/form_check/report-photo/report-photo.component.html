<div class="container">
  <!-- <div class="row">
    <img src="https://abcars.mx/assets/images/logo.svg"
      style="margin: auto ; display: block;  width:250px; height:100px" class="d-inline-block align-top" alt="">
    <hr>
  </div> -->
  <br>
  <a class="fw-bold text-dark text-decoration-none mt-3 mb-4"  [routerLink]="['/formulario_inspeccion']">
    <i class="fas fa-arrow-left"></i> volver
  </a>
  <br>
  <br>
  <h1>Lista</h1>
  <mat-form-field>
    <mat-label> Filtrar </mat-label>
    <input
      [(ngModel)]="searchKey"
      matInput
      (keyup)="applyFilter($event)"
      placeholder="Buscar "
      #input
    />
    <mat-icon matSuffix (click)="limpiar()">remove_circle</mat-icon>
  </mat-form-field>
  <div class="">
    <div class="row">
      <div class="col-12">
        <section class="example-container mat-elevation-z8" tabindex="0">
          <table mat-table [dataSource]="dataSource" class="table">
            <!-- id Column -->
            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef></th>
              <td mat-cell *matCellDef="let element">{{ element.vehicle.id }}</td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Name</th>
              <td mat-cell *matCellDef="let element">{{ element.vehicle.name }}</td>
            </ng-container>

            <!-- vin Column -->
            <ng-container matColumnDef="vin">
              <th mat-header-cell *matHeaderCellDef>Vin</th>
              <td mat-cell *matCellDef="let element">{{ element.vehicle.vin }}</td>
            </ng-container>

            <ng-container matColumnDef="detail">
              <th mat-header-cell *matHeaderCellDef>Detalle</th>
              <td mat-cell *matCellDef="let element">
                <a mat-button title="Ver detalle" routerLink="/{{element.vehicle.vin}}/reportDetails"><img src="../../../assets/images/reporte.png" width="20" height="20" alt="icono reporte" /></a>
              </td>
            </ng-container>

            <ng-container matColumnDef="download">
              <th mat-header-cell *matHeaderCellDef>Descargar</th>
              <td mat-cell *matCellDef="let element">
                <a mat-button title="Descargar" href="https://sandbox.abcars.mx/abcars-backend/downloadFolder/{{ element.vehicle.vin }}"><mat-icon>cloud_download</mat-icon></a>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>
        </section>
      </div>
    </div>
    
    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
      class="mb-5"
    >
    </mat-paginator>
  </div>
</div>
<br />
